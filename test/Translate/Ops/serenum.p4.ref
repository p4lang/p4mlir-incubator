enum bit<16> EthTypes {
    ARP = 16w2054,
    EtherTalk = 16w32923,
    IPX = 16w33079,
    IPv4 = 16w2048,
    IPv6 = 16w34525,
    RARP = 16w32821,
    VLAN = 16w33024
}
struct Ethernet {
    bit<48> src;
    bit<48> dest;
    EthTypes type;
}
struct Headers {
    Ethernet eth;
}
action test(inout Headers h) {
    if ((h.eth.type == EthTypes.IPv4)) {
        h.eth.src = h.eth.dest;
    }
     else {
        h.eth.type = (EthTypes)(16w0);
    }
    return;
}

